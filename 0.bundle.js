(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{341:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},342:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},343:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(95),o=function(e){var t=window.parseInt(e,10);if(!Number.isNaN(t))return t;var n=new RegExp("https://".concat("ideato",".pipedrive.com/deal/([0-9]+)")),r=e.match(n);return r&&r[1]};t.a={get:function(e){Object(r.a)(e,"Id is required for search");var t="https://".concat("ideato",".pipedrive.com/v1/deals/").concat(e,"?api_token=").concat("40f9fdd51f3051900f39038894050212e3930a88");return window.fetch(t).then(function(e){return e.json()})}}},344:function(e,t,n){"use strict";var r=n(343),o=n(65),i=n.n(o),a=function(e){var t=e.name,n=e.mimeType,r=e.body,o=e.parent,i=e.bodyMimeType,a=void 0===i?"application/octet-stream":i,u=e.boundary,c="--"+u+"--",s="--"+u+"\r\nContent-Type: application/json\r\n\r\n";return s+=JSON.stringify({name:t,parents:[o],mimeType:n})+"\r\n",s+="--"+u+"\r\nContent-Type: ".concat(a,"\r\n\r\n"),s+="".concat(r,"\r\n"),s+=c},u=n(347),c=n.n(u),s=n(31);function f(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,u,"next",e)}function u(e){f(i,r,o,a,u,"throw",e)}a(void 0)})}}var d=function(){var e=function(){var e=p(regeneratorRuntime.mark(function e(t){var n,r,o,i,u,f,p,d,l,v,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.data,o=t.mimeType,i=void 0===o?"application/json":o,u=t.parent,f=void 0===u?"1WZS3_nShJv-Im3xPd69UytYHl0mWstkD":u,p=c.a.v4(),d=new window.Headers({Authorization:"Bearer ".concat(s.a.getToken()),"Content-Type":"multipart/related; boundary=".concat(p)}),l=a({name:n,boundary:p,body:r,parent:f,mimeType:i}),v="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",h={method:"POST",headers:d,body:l},e.abrupt("return",window.fetch(v,h).then(function(e){return e.json()}).then(function(e){return e.id}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=p(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://content.googleapis.com/drive/v3/files/".concat(t,"?alt=media&fields=webContentLink&key=").concat("AIzaSyCctCJMLPaod4CCB2ywGgkYwpSzZYPvD3c"),r=new window.Headers({Authorization:"Bearer ".concat(s.a.getToken())}),o={method:"GET",headers:r},e.abrupt("return",window.fetch(n,o).then(function(e){return e.text()}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=p(regeneratorRuntime.mark(function e(t){var n,r,o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(u.length>1&&void 0!==u[1])||u[1],r=u.length>2?u[2]:void 0,o=u.length>3?u[3]:void 0,a="trashed = false and name ".concat(n?"=":"contains"," '").concat(t,"'"),r&&(a="".concat(a," and '").concat(r,"' in parents")),o&&(a="".concat(a," and mimeType='").concat(o)),e.abrupt("return",gapi.client.drive.files.list({q:a,pageSize:1,fields:"files(id, name, webViewLink)"}).then(function(e){return i()(e,"result.files.0")}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return{list:function(){var e=p(regeneratorRuntime.mark(function e(){var t,n,r,o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.mimeType,r=void 0===n?"application/vnd.google-apps.folder":n,o=t.parent,a=void 0===o?"1WZS3_nShJv-Im3xPd69UytYHl0mWstkD":o,e.abrupt("return",gapi.client.drive.files.list({q:"mimeType='".concat(r,"' and trashed = false and '").concat(a,"' in parents"),orderBy:"name desc",pageSize:1e3,fields:"files(id, name, webViewLink)"}).then(function(e){return i()(e,"result.files")}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),find:n,createDirectory:function(){var e=p(regeneratorRuntime.mark(function e(t){var n,r,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"1WZS3_nShJv-Im3xPd69UytYHl0mWstkD",r={name:t,parents:[n],mimeType:"application/vnd.google-apps.folder"},e.abrupt("return",gapi.client.drive.files.create({resource:r,fields:"id, name, webViewLink"}).then(function(e){return e.result}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),create:e,download:t,update:function(e){var t=e.fileId,n=e.data,r=new window.Headers({Authorization:"Bearer ".concat(s.a.getToken())}),o=new window.FormData;o.append("metadata",new window.Blob([JSON.stringify({})],{type:"application/json"})),o.append("data",new window.Blob([JSON.stringify(n)],{type:"application/json"}));var i={method:"PATCH",headers:r,body:o},a="https://www.googleapis.com/upload/drive/v3/files/".concat(t,"?uploadType=multipart");return window.fetch(a,i).then(function(e){return e.json()}).then(function(e){return e.id})}}}();function l(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var v={getData:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,u,"next",e)}function u(e){l(i,r,o,a,u,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.sheets.spreadsheets.values.get({spreadsheetId:t,range:n});case 2:return r=e.sent,e.abrupt("return",r.result);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,u,"next",e)}function u(e){m(i,r,o,a,u,"throw",e)}a(void 0)})}}var w=function(e){return e.toString().padStart(5,"0")},b=function(e){var t=e.name.split(" - ");return{directoryId:e.id,id:parseInt(t[0]),title:t[1],webViewLink:e.webViewLink}};t.a=function(e){var t=function(){var e=y(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.find("".concat(t,".json"),!0);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return r=n.id,e.next=8,d.download(r);case 8:if(o=e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.abrupt("return",JSON.parse(o));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var t=y(regeneratorRuntime.mark(function t(n){var r,o,a,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get(n);case 2:return r=t.sent,o=i()(r,"data.title"),a="".concat(w(n)," - ").concat(o),t.next=7,d.createDirectory(a);case 7:return u=t.sent,c={id:n,directory:u,title:o,elements:[]},t.abrupt("return",d.create({name:"".concat(n,".json"),parent:u.id,data:JSON.stringify(c)}));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=y(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,d.find("".concat(n,".json"),!0);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",d.update({fileId:r.id,data:t}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return{create:n,list:function(){var e=y(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.list();case 2:return t=e.sent,e.abrupt("return",t.map(b));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),listElements:function(){var e=y(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getData("1Naop1VImN2N6EZAyxVdrqIg_s4onjVbD1MHdX3C43q0","Elements!A2:C");case 2:return t=e.sent,n=i()(t,"values",[]),e.abrupt("return",n.map(function(e,t){var n=h(e,3);return{id:t,name:n[0],length:n[1],notes:n[2]}}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),get:t,save:r}}(r.a)},345:function(e,t,n){var r=n(342),o=n(341);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},346:function(e,t,n){var r,o,i=n(342),a=n(341),u=0,c=0;e.exports=function(e,t,n){var s=t&&n||0,f=t||[],p=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==p||null==d){var l=i();null==p&&(p=r=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==d&&(d=o=16383&(l[6]<<8|l[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,m=v-u+(h-c)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||v>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=v,c=h,o=d;var y=(1e4*(268435455&(v+=122192928e5))+h)%4294967296;f[s++]=y>>>24&255,f[s++]=y>>>16&255,f[s++]=y>>>8&255,f[s++]=255&y;var w=v/4294967296*1e4&268435455;f[s++]=w>>>8&255,f[s++]=255&w,f[s++]=w>>>24&15|16,f[s++]=w>>>16&255,f[s++]=d>>>8|128,f[s++]=255&d;for(var b=0;b<6;++b)f[s+b]=p[b];return t||a(f)}},347:function(e,t,n){var r=n(346),o=n(345),i=o;i.v1=r,i.v4=o,e.exports=i},348:function(e,t){e.exports='<kf-components-menu>\n    <div>\n        <h1>Discovery Detail</h1>\n        <div>\n            <h2 data-text="printableDiscovery"></h2>\n        </div>\n        <ul data-discovery-elements></ul>\n        <button class="ui primary button" data-bind-click="save">\n            Save Document\n        </button>\n    </div>\n</kf-components-menu>'},353:function(e,t,n){"use strict";n.r(t);var r=n(348),o=n.n(r),i=n(66),a=n(344);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={elements:[]},s=function(e){return Object.freeze(Object.assign({},e))},f=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:c),t=[];return{addChangeListener:function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.push(n),r&&n(s(e)),function(){t=t.filter(function(e){return e!==n})}},addElement:function(n){e.elements.push(n),t.forEach(function(t){return t(s(e))})}}};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,u,"next",e)}function u(e){d(i,r,o,a,u,"throw",e)}a(void 0)})}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(w.prototype,HTMLElement.prototype),Object.setPrototypeOf(w,HTMLElement);var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,w),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var e=Object(i.b)(o.a);Object(i.a)(e,this,"click","input"),Object(i.c)(e,this),this.appendChild(e),this.style.display="block",this.renderList(),this.load()}},{key:"load",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.get(this.discoveryId);case 2:t=e.sent,this.discoveryModel=f(t),this.updateDomUnsubscribe=this.discoveryModel.addChangeListener(function(e){n.discovery=e,Object(i.c)(n)}),this.saveUnsubscribe=this.discoveryModel.addChangeListener(function(){var e=l(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.save(t);case 2:swal("Discovery Saved");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),!1);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderList",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.listElements();case 2:t=e.sent,(n=this.querySelector("ul")).innerHTML="",t.map(function(e){return"<li>".concat(e.name," (").concat(e.length,") minutes</li>")}).map(i.b).forEach(function(e){n.appendChild(e)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.discovery.addElement((new Date).getTime());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){this.updateDomUnsubscribe||this.updateDomUnsubscribe(),this.saveUnsubscribe||this.saveUnsubscribe()}},{key:"discoveryId",get:function(){return this.getAttribute("discovery-id")},set:function(e){this.setAttribute("discovery-id",e)}},{key:"printableDiscovery",get:function(){return this.discovery?function(e){return"".concat(e.id," - ").concat(e.title)}(this.discovery):this.discoveryId}}]),t}();window.customElements.define("kf-pages-discovery-detail",b)}}]);